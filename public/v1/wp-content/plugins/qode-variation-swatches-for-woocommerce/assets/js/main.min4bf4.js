!function(t){window.qodeVariationSwatchesForWooCommerce={},qodeVariationSwatchesForWooCommerce.body=t("body"),qodeVariationSwatchesForWooCommerce.html=t("html"),qodeVariationSwatchesForWooCommerce.windowWidth=t(window).width(),qodeVariationSwatchesForWooCommerce.windowHeight=t(window).height(),qodeVariationSwatchesForWooCommerce.scroll=0,t(document).ready(function(){qodeVariationSwatchesForWooCommerce.scroll=t(window).scrollTop()}),t(window).resize(function(){qodeVariationSwatchesForWooCommerce.windowWidth=t(window).width(),qodeVariationSwatchesForWooCommerce.windowHeight=t(window).height()}),t(window).scroll(function(){qodeVariationSwatchesForWooCommerce.scroll=t(window).scrollTop()}),t(window).on("load",function(){});qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceAppear={init:function(){this.holder=t(".qvsfw--has-appear:not(.qvsfw--appeared)"),this.holder.length&&this.holder.each(function(){var e=t(this);qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceIsInViewport.check(e,()=>{qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceWaitForImages.check(e,function(){e.addClass("qvsfw--appeared")})})})}};var e={check:function(t,i,o,a){var e,n;t.length&&(e=void 0!==t.data("viewport-offset")?t.data("viewport-offset"):.15,(n=new IntersectionObserver(function(e){!0===e[0].isIntersecting?(i.call(t),!1!==o&&n.disconnect()):a&&!1===o&&a.call(t)},{threshold:[e]})).observe(t[0]))}},e=(qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceIsInViewport=e,{check:function(e,t){if(e.length){var i=e.find("img"),o=i.length;if(o)for(var a=0,n=0;n<o;n++){var s,r=i[n];r.complete?++a===o&&t.call(e):((s=new Image).addEventListener("load",function(){if(++a===o)return t.call(e),!1},!1),s.src=r.src)}else t.call(e)}}}),o=(qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceWaitForImages=e,{disable:function(){window.addEventListener&&window.addEventListener("wheel",o.preventDefaultValue,{passive:!1}),document.onkeydown=o.keyDown},enable:function(){window.removeEventListener&&window.removeEventListener("wheel",o.preventDefaultValue,{passive:!1}),window.onmousewheel=document.onmousewheel=document.onkeydown=null},preventDefaultValue:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1},keyDown:function(e){for(var t=[37,38,39,40],i=t.length;i--;)if(e.keyCode===t[i])return void o.preventDefaultValue(e)}});qodeVariationSwatchesForWooCommerce.qodeVariationSwatchesForWooCommerceScroll=o}(jQuery),function(f){f(document).ready(function(){u.init()}),f(document).on("qode_quick_view_for_woocommerce_trigger_quick_view",function(e,t){u.reInit(t)}),f(document).on("qode_quick_view_for_woocommerce_trigger_woocommerce_select2",function(){this.holder=f(".variations_form .value"),this.holder.length&&this.holder.each(function(){u.destroySelect2(f(this))})});var u={originalData:{},productImages:{},init:function(){this.holder=f(".variations_form .value"),this.holder.length&&this.holder.each(function(){u.setActiveLabel(f(this)),u.changeSelectValue(f(this)),u.addHelperClasses(f(this)),u.triggerDisableSelect(f(this)),u.destroySelect2(f(this))}),u.initVariationsForm(),u.handleProductAvailability()},reInit:function(e){this.holder=e.find(".variations_form .value"),this.holder.length&&this.holder.each(function(){u.setActiveLabel(f(this)),u.changeSelectValue(f(this)),u.addHelperClasses(f(this)),u.triggerDisableSelect(f(this)),u.destroySelect2(f(this))}),u.initVariationsForm(),u.handleProductAvailability()},initVariationsForm:function(){this.holder=f(".variations_form"),this.holder.length&&this.holder.each(function(){u.handleInitialProductAvailability(f(this))})},setActiveLabel:function(t){var e=t.find("select");(e.hasClass("qvsfw-attribute-type--image")||e.hasClass("qvsfw-attribute-type--color")||e.hasClass("qvsfw-attribute-type--label")||e.hasClass("qvsfw-attribute-type--radio-button")||e.hasClass("qvsfw-attribute-type--tab-switch"))&&e.css("display","none"),e.length&&e.each(function(){f(this).on("change",function(){var e=f(this).find("option:selected").val();u.setActiveClass(t,e),f(document.body).trigger("qode_variation_swatches_for_woocommerce_premium_trigger_variation_select_changed",[t])})})},setActiveClass:function(e,i){var e=e.find(".qvsfw-select-options-container");e.length&&(e=e.find(".qvsfw-select-option")).length&&e.each(function(){var e=f(this),t=(e.removeClass("qvsfw-selected"),e.data("value"));(t="number"==typeof t?t.toString():t)===i&&e.addClass("qvsfw-selected")})},changeSelectValue:function(e){var i=e.parents(".variations_form").first(),o=e.find("select"),e=e.find(".qvsfw-select-options-container");e.length&&(e=e.find(".qvsfw-select-option")).length&&e.each(function(){var t=f(this);t.on("click",function(e){e.preventDefault(),i.find(".qvsfw-select-option").removeClass("qvsfw-disable-select"),(t.hasClass("qvsfw-selected")?o.val(""):o.val(t.data("value"))).change()})})},addHelperClasses:function(e){var t=e.closest("tr"),e=e.find("select");e.length&&!e.hasClass("qvsfw-attribute-type--select")&&t.addClass("qvsfw-attribute-wrapper")},triggerDisableSelect:function(i){var e=i.parents(".variations_form").first();e.wc_variation_form(),e.on("found_variation",function(e,t){u.disableSelect(i)}),e.on("woocommerce_variation_has_changed",function(){u.disableSelect(i)}),e.on("reset_data",function(){f(this).find(".qvsfw-select-option").removeClass("qvsfw-disable-select")})},disableSelect:function(e){e.find(".qvsfw-selected").parents(".variations").first().find(".value").each(function(){var e=f(this),t=e.find("select").find("option"),i=e.find(".qvsfw-select-options-container"),e=e.find(".qvsfw-select-option"),o=(e.removeClass("qvsfw-disable-select"),[]),a=(e.each(function(){var e=f(this).data("value");"number"==typeof e&&(e=e.toString()),o.push(e)}),[]),n=(t.each(function(){var e=f(this);""!==e.val()&&a.push(e.val())}),f.grep(o,function(e){return-1===f.inArray(e,a)})),s=n.length;if(s)for(var r=0;r<s;r++)i.find('[data-value="'+n[r]+'"]').addClass("qvsfw-disable-select")})},destroySelect2:function(e){e=e.parents(".variations_form").first().find("select");e.length&&!e.hasClass("qvsfw-attribute-type--select")&&e.each(function(){var e=f(this);e.hasClass("select2-hidden-accessible")&&e.select2("destroy")})},handleInitialProductAvailability:function(e){"yes"===qodeVariationSwatchesForWooCommerceGlobal.disableOutOfStockOption&&u.handleOutOfStock(e)},handleProductAvailability:function(){f(document).on("found_variation",function(e,t){var e=f(e.target),i=e.find(".qvsfw-list-variation-availability"),o=e.parents(".product").first().find(".add_to_cart_button");o.hasClass("disabled qvsfw-disabled")&&o.removeClass("disabled qvsfw-disabled"),"yes"===qodeVariationSwatchesForWooCommerceGlobal.productAvailabilityOption&&e.hasClass("qvsfw-list-variations-form")&&i.length&&i.html(f(t.availability_html)),t.is_in_stock||o.addClass("disabled qvsfw-disabled")}),f(document).on("reset_data",function(e){var e=f(e.target),t=e.find(".qvsfw-list-variation-availability").find(".stock"),e=e.parents(".product").first().find(".add_to_cart_button");t.length&&t.remove(),e.hasClass("disabled qvsfw-disabled")&&e.removeClass("disabled qvsfw-disabled")}),"yes"===qodeVariationSwatchesForWooCommerceGlobal.disableOutOfStockOption&&f(document).on("woocommerce_variation_has_changed",function(e){e=f(e.target);u.handleOutOfStock(e)})},handleOutOfStock:function(c){var l,e,d,t,h;c.hasClass("qvsfw-list-variations-form")&&"yes"===qodeVariationSwatchesForWooCommerceGlobal.enableAjaxInLoop||(l=c.data("product_variations"),e=c.find("select"),t=c.find(".qvsfw-select-option"),d={},t.length&&t.each(function(){var e=f(this).parents(".value").first().find("select"),t=e.data("attribute_name"),e=e.val();d[t]=e}),h=[],e.length&&(c.hasClass("qvsfw-list-variations-form")?(t=c.data("variation_attributes"),h=[],f.each(t,function(e,t){var i={};i.attribute_name="attribute_"+e,i.values=t instanceof Array?t:Object.values(t),h.push(i)})):e.each(function(){var e=f(this).data("attribute_name"),t=f(this).find("option"),i=[];t.each(function(){""!==f(this).val()&&i.push(f(this).val())}),h.push({attribute_name:e,values:i})}),f.each(e,function(){var e=f(this),r=[],t=e.parent().find(".qvsfw-select-options-container");e.find("option").each(function(){var e=f(this).val();e.length&&r.push(e)}),f.each(t,function(){f(this).find(".qvsfw-select-option").each(function(){var e=f(this).data("value")+"",t=f(this).parents(".value").first().find("select").data("attribute_name"),i=Object.assign({},d),o=!0,a=c.find(".qvsfw-select-options-container"),n=("-1"===f.inArray(e,r)?(f(this).addClass("qvsfw-disable-out-of-stock"),1!==a.length&&2!==a.length||f(this).append('<span class="qvsfw-notification-inactive">'+qodeVariationSwatchesForWooCommerceGlobal.iconNotify+"</span>")):(f(this).removeClass("qvsfw-disable-out-of-stock"),f(this).find(".qvsfw-notification-inactive").remove()),i[t]=e,[]),s={},t=(f.each(l,function(e,a){f.each(h,function(e,o){var t;""===a.attributes[o.attribute_name]?f.each(o.values,function(e,t){var i=f.extend(!0,{},a),t=(i.attributes=f.extend(!0,{},a.attributes),i.attributes[o.attribute_name]=t,JSON.stringify(i.attributes));s[t]||(s[t]=!0,n.push(i))}):(t=JSON.stringify(a.attributes),s[t]||(s[t]=!0,n.push(a)))})}),n.filter(function(e){for(var t in e.attributes)if(e.attributes.hasOwnProperty(t)&&""===e.attributes[t])return!1;return!0})),e=(l=t,u.findMatchingVariations(l,i));(o=e.length?e.find(function(e){return!0===e.is_in_stock}):o)?(f(this).removeClass("qvsfw-disable-out-of-stock"),f(this).find(".qvsfw-notification-inactive").remove()):(f(this).addClass("qvsfw-disable-out-of-stock"),1!==a.length&&2!==a.length||f(this).append('<span class="qvsfw-notification-inactive">'+qodeVariationSwatchesForWooCommerceGlobal.iconNotify+"</span>"))})})})))},findMatchingVariations:function(e,i){var o=[];return f.each(e,function(e,t){u.isMatch(t.attributes,i)&&o.push(t)}),o},isMatch:function(e,t){var i,o,a,n=!0;for(i in e)e.hasOwnProperty(i)&&(o=e[i],a=t[i],void 0!==o)&&void 0!==a&&0!==o.length&&0!==a.length&&o!==a&&(n=!1);return n}};qodeVariationSwatchesForWooCommerce.qvsfwInitVariationSwatches=u}(jQuery);