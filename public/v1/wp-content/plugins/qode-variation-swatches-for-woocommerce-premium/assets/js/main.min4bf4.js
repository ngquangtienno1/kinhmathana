!function(t){window.qodeVariationSwatchesForWooCommercePremium={},qodeVariationSwatchesForWooCommercePremium.body=t("body"),qodeVariationSwatchesForWooCommercePremium.html=t("html"),qodeVariationSwatchesForWooCommercePremium.windowWidth=t(window).width(),qodeVariationSwatchesForWooCommercePremium.windowHeight=t(window).height(),qodeVariationSwatchesForWooCommercePremium.scroll=0,t(window).resize(function(){qodeVariationSwatchesForWooCommercePremium.windowWidth=t(window).width(),qodeVariationSwatchesForWooCommercePremium.windowHeight=t(window).height()})}(jQuery),function(l){l(document).ready(function(){c.init()}),l(document).on("qode_quick_view_for_woocommerce_trigger_quick_view",function(t,a){c.reInitVariationSwatchesHandlers(a),c.handleBackInStock()});var c={originalData:{},productImages:{},init:function(){c.initVariationSwatchesHandlers(),c.initShopListVariations(),c.triggerAddToCart(),c.generateVariationUrl(),c.handleBackInStock(),d.init()},initVariationSwatchesHandlers:function(){this.holder=l(".variations_form .value"),this.holder.length&&this.holder.each(function(){c.handleSelectChange(l(this)),c.saveOriginalProductData(l(this)),c.resetProductData(l(this)),c.changeImageOnHover(l(this)),c.changeImageOnHoverProductSingle(l(this)),c.handleTabSwitch(l(this)),c.renderSelectedValue(l(this)),c.initAdditionalInfoModal(l(this)),c.initSlider(l(this))}),c.initVariationGallery()},reInitVariationSwatchesHandlers:function(t){this.holder=t.find(".variations_form .value"),this.holder.length&&this.holder.each(function(){c.handleSelectChange(l(this)),c.saveOriginalProductData(l(this)),c.resetProductData(l(this)),c.changeImageOnHover(l(this)),c.changeImageOnHoverProductSingle(l(this)),c.handleTabSwitch(l(this)),c.renderSelectedValue(l(this)),c.initAdditionalInfoModal(l(this)),c.initSlider(l(this))}),c.initVariationGallery()},initShopListVariations:function(){this.holder=l(".qvsfw-list-variations-form"),this.holder.length&&this.holder.each(function(){c.addVariationFunctionality(l(this))})},addVariationFunctionality:function(e){e.wc_variation_form(),e.on("found_variation",function(t,a){c.updateThumbnail(e,a.image),c.updatePrice(e,a.price_html),c.updateButtonData(e,a)})},updateThumbnail:function(t,a){t=t.parents(".product.product-type-variable").first().find(qodeVariationSwatchesForWooCommerceGlobal.loopImageSelectors);t.length&&(t.attr("src",a.thumb_src),t.attr("srcset",""),"1"===qodeVariationSwatchesForWooCommerceGlobal.isWooPage&&"1"===qodeVariationSwatchesForWooCommerceGlobal.setSrcsetOnWooPagesLoopImage&&!1!==a.srcset&&t.attr("srcset",a.srcset),""===qodeVariationSwatchesForWooCommerceGlobal.isWooPage)&&(t.attr("src",a.src),"1"===qodeVariationSwatchesForWooCommerceGlobal.setSrcsetOnLoopImage)&&!1!==a.srcset&&t.attr("srcset",a.srcset)},updatePrice:function(t,a){var e;a.length&&(e=(t=t.parents(".product.product-type-variable").first()).find(".price"),c.compareAttributes(t))&&(e.replaceWith(a),(e=t.find(".wc-block-components-product-price")).length)&&((t=l("<div>")).html(a),a=t.find(".price").html(),e.html(a))},updateButtonData:function(t,a){var e=t.find(".variations select"),t=t.parents(".product.product-type-variable").first(),i=t.find(".add_to_cart_button");e.each(function(){var t=l(this).data("attribute_name")||l(this).attr("name"),a=l(this).val()||"";t,0}),c.compareAttributes(t)&&(i.html(i.data("add-to-cart-text")),i.addClass("qvsfw-variation-found"),i.attr("data-variation_id",a.variation_id))},compareAttributes:function(t){var t=t.find(".qvsfw-list-variations-form"),a=Object.keys(t.data("variation_attributes")),t=t.find("select"),e=[];return t.each(function(){var t=(t=l(this).data("attribute_name")).replace("attribute_","");e.push(t)}),a.length===e.length&&a.every(function(t,a){return t===e[a]})},triggerAddToCart:function(){qodeVariationSwatchesForWooCommerce.body.on("click",".add_to_cart_button.qvsfw-variation-found",function(t){t.preventDefault(),c.ajaxAddToCart(l(this))})},ajaxAddToCart:function(t){var a=t,t=a.data("product_id"),e=a.data("variation_id"),i=a.parents(".product.product-type-variable").first().find(".qvsfw-list-variations-form").find("select"),o={},i=(i.length&&i.each(function(){var t=l(this).data("attribute_name")||l(this).attr("name"),a=l(this).val()||"";o[t]=a}),{action:"woocommerce_ajax_add_to_cart",product_id:t,product_sku:"",variation_id:e,variation_data:o});return l(document.body).trigger("adding_to_cart",[a,i]),l.ajax({type:"POST",url:wc_add_to_cart_params.ajax_url,data:i,beforeSend:function(){a.removeClass("added").addClass("loading")},complete:function(){a.addClass("added").removeClass("loading")},success:function(t){t.error&&t.product_url?window.location=t.product_url:l(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])}}),!1},handleSelectChange:function(t){l(document).on("qode_variation_swatches_for_woocommerce_premium_trigger_variation_select_changed",function(){c.renderSelectedValue(t)})},saveOriginalProductData:function(t){var t=t.parents(".product.product-type-variable").first(),a=t.find(qodeVariationSwatchesForWooCommerceGlobal.loopImageSelectors),e=t.find(".price"),i=t.find(".add_to_cart_button");t.hasClass("wp-block-post")&&(e=t.find(".wc-block-components-product-price"));t=t.find(".qvsfw-list-variations-form").data("product_id");c.originalData[t]={},a.length&&(c.originalData[t].originalSrc=a.attr("src"),c.originalData[t].originalSrcset=a.attr("srcset")),e.length&&(c.originalData[t].originalPrice=e.html()),i.length&&(c.originalData[t].originalButtonHtml=i.html())},resetProductData:function(t){var a,e=t.find(".reset_variations"),i=t.parents(".product.product-type-variable").first(),o=i.find(qodeVariationSwatchesForWooCommerceGlobal.loopImageSelectors),n=t.parents(".variations_form").first();n.hasClass("qvsfw-list-variations-form")&&(a=n.data("product_id"),e.on("click",function(){c.originalData[a]&&(o.length&&(o.attr("src",c.originalData[a].originalSrc),void 0!==c.originalData[a].originalSrcset&&!1!==c.originalData[a].originalSrcset?o.attr("srcset",c.originalData[a].originalSrcset):o.attr("srcset","")),i.find(".price").html(c.originalData[a].originalPrice),i.hasClass("wp-block-post"))&&i.find(".wc-block-components-product-price").html(c.originalData[a].originalPrice),c.resetButtonData(t)}),(n=t.find("select")).length)&&n.each(function(){l(this).on("change",function(){""===l(this).find("option:selected").val()&&c.originalData[a]&&(o.length&&(o.attr("src",c.originalData[a].originalSrc),void 0!==c.originalData[a].originalSrcset&&!1!==c.originalData[a].originalSrcset?o.attr("srcset",c.originalData[a].originalSrcset):o.attr("srcset","")),i.find(".price").html(c.originalData[a].originalPrice),i.hasClass("wp-block-post"))&&i.find(".wc-block-components-product-price").html(c.originalData[a].originalPrice),c.resetButtonData(t)})})},resetButtonData:function(t){var t=t.parents(".product.product-type-variable").first(),a=t.find(".add_to_cart_button"),t=t.find(".qvsfw-list-variations-form").data("product_id");c.originalData[t]&&(a.html(c.originalData[t].originalButtonHtml),a.removeClass("qvsfw-variation-found"),a.removeAttr("data-variation_id"))},changeImageOnHover:function(t){var a,n,e,r,s,i;"yes"===qodeVariationSwatchesForWooCommerceGlobal.changeImageOnHoverOption&&(a=t.find(".qvsfw-select-option"),n=t.find("select"),e=t.parents(".product.product-type-variable").first(),t=t.parents(".variations_form").first(),r=t.data("product_variations"),0!==(s=e.find(qodeVariationSwatchesForWooCommerceGlobal.loopImageSelectors)).length)&&t.hasClass("qvsfw-list-variations-form")&&(i=t.data("product_id"),a.length)&&a.each(function(){var o=l(this);o.on("mouseenter",function(){if(!l(this).hasClass("qvsfw-selected")&&!l(this).siblings().hasClass("qvsfw-selected")){var t=r.length;if(t)for(var a=0;a<t;a++){var e=r[a].attributes,i=Object.keys(e);o.data("value")===e[i]&&i[0]===n.data("attribute_name")&&(s.attr("src",r[a].image.thumb_src),s.attr("srcset",""),"1"===qodeVariationSwatchesForWooCommerceGlobal.isWooPage&&"1"===qodeVariationSwatchesForWooCommerceGlobal.setSrcsetOnWooPagesLoopImage&&!1!==r[a].image.srcset&&s.attr("srcset",r[a].image.srcset),""===qodeVariationSwatchesForWooCommerceGlobal.isWooPage)&&(s.attr("src",r[a].image.src),"1"===qodeVariationSwatchesForWooCommerceGlobal.setSrcsetOnLoopImage)&&!1!==r[a].image.srcset&&s.attr("srcset",r[a].image.srcset)}}}).on("mouseleave",function(){l(this).hasClass("qvsfw-selected")||l(this).siblings().hasClass("qvsfw-selected")||c.originalData[i]&&(s.attr("src",c.originalData[i].originalSrc),void 0!==c.originalData[i].originalSrcset&&!1!==c.originalData[i].originalSrcset?s.attr("srcset",c.originalData[i].originalSrcset):s.attr("srcset",""))})})},changeImageOnHoverProductSingle:function(t){var a,n,r,e,i;"yes"===qodeVariationSwatchesForWooCommerceGlobal.changeImageOnHoverOption&&0!==t.parents(".entry-summary").length&&(a=t.find(".qvsfw-select-option"),n=t.find("select"),r=t.parents(".variations_form").first().data("product_variations"),i=(t=(e=l(".single-product .woocommerce-product-gallery__image").first()).find("img")).attr("src"),t=t.attr("srcset"),e.attr("data-original-img-src",i),void 0!==t&&e.attr("data-original-img-srcset",t),a.length)&&a.each(function(){var o=l(this);o.on("mouseenter",function(){if(!l(this).hasClass("qvsfw-selected")&&!l(this).siblings().hasClass("qvsfw-selected")){var t=r.length;if(t)for(var a=0;a<t;a++){var e=r[a].attributes,i=Object.keys(e);o.data("value")===e[i]&&i[0]===n.data("attribute_name")&&((e=l(".single-product .woocommerce-product-gallery__image").first().find("img")).attr("src",r[a].image.src),!1!==r[a].image.srcset)&&e.attr("srcset",r[a].image.srcset)}}}).on("mouseleave",function(){var t;l(this).hasClass("qvsfw-selected")||l(this).siblings().hasClass("qvsfw-selected")||((t=l(".single-product .woocommerce-product-gallery__image").first().find("img")).attr("src",e.data("original-img-src")),void 0!==e.data("original-img-srcset")&&t.attr("srcset",e.data("original-img-srcset")))})})},handleTabSwitch:function(a){var e=a.find(".qvsfw-tab-switch-item"),o=a.find(".qvsfw-select-option");e.length&&(e.first().addClass("qvsfw-active"),e.each(function(){var i=l(this);i.on("click",function(t){t.preventDefault(),e.removeClass("qvsfw-active"),i.addClass("qvsfw-active"),o.length&&o.each(function(){var t=l(this).find(".qvsfw-select-value"),a=i.data("value"),e=t.data("options");t.text(e[a])}),c.renderSelectedValue(a)})}))},renderSelectedValue:function(t){var a,e,i,o;"yes"===qodeVariationSwatchesForWooCommerceGlobal.enableSelectedValueName&&((a=t.prev("th.label").find("label")).children(".qvsfw-selected-value").length||a.append('<span class="qvsfw-selected-value"></span>'),e=t.find(".qvsfw-selected"),o=a.children(".qvsfw-selected-value"),t=t.find(".qvsfw-select-options-container"),e.length?(o.text(e.data("name")),t.length&&t.hasClass("qvsfw-select-options-container-type--tab-switch")&&o.text(e.find(".qvsfw-select-value").text())):o.text(""),t.length&&t.hasClass("qvsfw-select-options-container-type--color")&&(a.children(".qvsfw-color-code").length||a.append('<span class="qvsfw-color-code"></span>'),o=a.children(".qvsfw-color-code"),i=e.attr("data-color-code"),e.length&&void 0!==i&&!1!==i?o.text(e.data("color-code")):o.text("")),t.length)&&t.hasClass("qvsfw-select-options-container-type--image")&&(a.children(".qvsfw-additional-text").length||a.append('<span class="qvsfw-additional-text"></span>'),i=a.children(".qvsfw-additional-text"),o=e.attr("data-additional-text"),e.length&&void 0!==o&&!1!==o?i.text(e.data("additional-text")):i.text(""))},initAdditionalInfoModal:function(t){var a=t.find(".qvsfw-modal-opener"),e=t.find(".qvsfw-additional-info-modal"),t=t.find(".qvsfw-additional-info-modal-cover");a.length&&(a.on("click",function(){e.hasClass("qvsfw--active")||e.addClass("qvsfw--active")}),t.on("click",function(){e.hasClass("qvsfw--active")&&e.removeClass("qvsfw--active")})),l(window).scroll(function(){e.hasClass("qvsfw--active")&&e.removeClass("qvsfw--active")})},initSlider:function(t){var a,e,i,o,n,r=t.parents(".variations_form").first();r.length&&(a=(t=t.find(".flexslider")).parents(".qvsfw-select-options-container").first(),r=r.outerWidth()-68,a.length&&(r=((o=(n=(r+(e=void 0!==(r=void 0!==a.data("options")?a.data("options"):{}).spaceBetween&&""!==r.spaceBetween?parseInt(r.spaceBetween):30))/((i=void 0!==r.itemWidth&&""!==r.itemWidth?r.itemWidth:25)+e))<=(o=void 0!==r.slidesPerView&&""!==r.slidesPerView?r.slidesPerView:4)?parseInt(n):o)-1)*e+o*i,a.css("width",r)),n=t.data("unique"),t.length)&&t.flexslider({animation:"slide",animationLoop:!0,slideshow:!1,minItems:o,maxItems:o,itemWidth:i,itemMargin:e,controlNav:!1,move:1,controlsContainer:l(".qvsfw-custom-controls-container-"+n),customDirectionNav:l(".qvsfw-custom-navigation-"+n+" a")})},initVariationGallery:function(){var e=l(".variations_form:not(.qvsfw-list-variations-form)");e.wc_variation_form(),e.on("found_variation",function(t,a){e.addClass("qvsfw-variation-found"),c.handleVariationGallery(t,a)}),e.on("reset_image",function(t){e.hasClass("qvsfw-variation-found")&&(e.removeClass("qvsfw-variation-found"),c.handleVariationGallery(t))})},handleVariationGallery:function(t,a){var e,i,o=l(".woocommerce-product-gallery");o.length&&(e=void 0!==a?a.variation_id:"",t=l(t.currentTarget).data("product_id"),i=void 0!==e&&""!==e?"yes":"no",void 0!==c.productImages[e]?c.loadVariationGallery(c.productImages[e],o,a):l.ajax({type:"POST",url:qodeVariationSwatchesForWooCommerceGlobal.ajaxurl,data:{action:"qode_variation_swatches_for_woocommerce_premium_get_variation_gallery",variation_id:e,product_id:t,is_variation:i},beforeSend:function(){l(".woocommerce-product-gallery").addClass("qvsfw-loading")},success:function(t){t&&"success"===(t=JSON.parse(t)).status&&""!==t.data.markup&&(o=l(".woocommerce-product-gallery"),c.productImages[e]=t.data.markup,c.loadVariationGallery(t.data.markup,o,a),o.removeClass("qvsfw-loading"))}}))},loadVariationGallery:function(t,a,e){a.replaceWith(t).fadeIn(),c.reInitProductGalleryScripts(),l(".woocommerce-product-gallery").removeClass("qvsfw-loading"),l(document.body).trigger("qode_variation_swatches_for_woocommerce_trigger_updated_variation_gallery")},reInitProductGalleryScripts:function(){var t=l(".woocommerce-product-gallery");void 0!==l&&void 0!==l.fn.wc_product_gallery&&t&&t.each(function(){l(this).wc_product_gallery()})},generateVariationUrl:function(){"yes"===qodeVariationSwatchesForWooCommerceGlobal.generateVariationUrlOption&&qodeVariationSwatchesForWooCommerce.body.hasClass("single-product")&&l(document).on("woocommerce_variation_has_changed",function(t){var a,e,t=l(t.target);!0!==t.hasClass("qvsfw-list-variations-form")&&(a=window.location.origin+window.location.pathname,t=t.find("select"),e=[],t.length&&l.each(t,function(){var t=l(this),a=t.data("attribute_name"),t=t.val();a.length&&t.length&&e.push(a+"="+t)}),(t=e.join("&")).length)&&window.history.replaceState(null,null,a+"?"+t)})},handleBackInStock:function(){var c={},t=l(".qvsfw-select-option");t.length&&t.each(function(){var r=l(this),s=r.parents(".qvsfw-select-options-container").first();r.on("click",function(){var t,e,a,i,o,n;!r.hasClass("qvsfw-disable-out-of-stock")||1!==(a=(t=r.parents(".variations_form").first()).find(".qvsfw-select-options-container")).length&&2!==a.length||(e=r.parents(".value").first().find("select").data("attribute_name"),c={[e]:r.data("value")},(a=t.find(".qvsfw-selected")).length&&a.each(function(){var t=l(this),a=t.parents(".value").first().find("select").data("attribute_name");a!==e&&(c={[e]:r.data("value"),[a]:t.data("value")})}),(i=(a=l("#qvsfw-notify-modal")).find(".qvsfw-hidden-input")).length&&i.remove(),""!==(i=a.find(".qvsfw-selected-value-holder")).html()&&i.html(""),l.isEmptyObject(c)||(o=a.find(".qvsfw-m-fields"),n=JSON.stringify(c),o.append('<input type="hidden" name="attributes" class="qvsfw-hidden-input qvsfw-attributes-input">'),a.find(".qvsfw-attributes-input").val(n),o.append('<input type="hidden" name="product_id" class="qvsfw-hidden-input qvsfw-product-id-input">'),a.find(".qvsfw-product-id-input").val(t.data("product_id")),i.append("<span>"+s.data("attribute-name")+":</span><span>"+r.data("name")+"</span>")),a.length&&d.showModal(a))})})}},d=(qodeVariationSwatchesForWooCommercePremium.qvsfwInitVariationSwatchesPremium=c,{init:function(){var t=l("#qvsfw-notify-modal");t.length&&(this.setEventsAction(t),this.handleModalForm(t))},setEventsAction:function(a){a.find(".qvsfw-m-close").on("click",function(t){t.preventDefault(),d.hideModal(a)}),a.children(".qvsfw-notify-modal-overlay").on("click",function(){d.hideModal(a)}),l(window).on("keyup",function(t){27===t.keyCode&&d.hideModal(a)})},showModal:function(t){t.hasClass("qvsfw--opened")||t.addClass("qvsfw--opened")},hideModal:function(t){t.hasClass("qvsfw--opened")&&t.removeClass("qvsfw--opened");var a=t.find(".qvsfw-message-success");a.length&&a.remove(),t.find(".qvsfw-notify-modal-content-inner").show()},handleModalForm:function(t){t=t.find("form");t.length&&t.each(function(){var a=l(this);a.on("submit",function(t){t.preventDefault(),d.triggerRequest(a)})})},triggerRequest:function(e){var t={route:qodeVariationSwatchesForWooCommerceGlobal.notifyModalRestRouteName,security_token:qodeVariationSwatchesForWooCommerceGlobal.restNonce,email:e.find(".qvsfw-m-email").val(),attributes:e.find(".qvsfw-attributes-input").val(),product_id:e.find(".qvsfw-product-id-input").val()};l.ajax({type:"GET",url:qodeVariationSwatchesForWooCommerceGlobal.restUrl+qodeVariationSwatchesForWooCommerceGlobal.notifyModalRestRoute,data:t,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeVariationSwatchesForWooCommerceGlobal.restNonce)},success:function(t){var a;"success"===t.status&&((a=e.parents(".qvsfw-notify-modal-content-inner-holder").first()).find(".qvsfw-notify-modal-content-inner").hide(),a.append('<p class="qvsfw-message-success">'+t.message+"</p>"))},error:function(t){console.log(t)}})}});qodeVariationSwatchesForWooCommercePremium.qvsfwColorAndLabelVariationsPremiumInitNotifyModal=d}(jQuery);